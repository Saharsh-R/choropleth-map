{"version":3,"sources":["App.js","theme.js","index.js"],"names":["Copyright","Typography","variant","color","align","Link","target","href","Date","toUTCString","BarChart","id","us","education","width","height","educationRange","d3","d","bachelorsOrHigher","path","useEffect","z","myColor","domain","svg","append","attr","legendSequential","legendColor","shapeWidth","cells","orient","scale","select","call","tip","d3Tip","offset","html","getColor","result","filter","obj","fips","selectAll","data","topojson","objects","counties","features","enter","x","style","on","e","match","str","area_name","state","show","this","currentTarget","hide","position","display","alignItems","justifyContent","App","useState","dataset","setDataset","setEducation","length","fetch","then","response","json","Grid","container","justify","backgroundImage","item","Box","boxShadow","p","backgroundColor","borderRadius","component","gutterBottom","theme","createMuiTheme","palette","primary","main","secondary","error","red","A400","background","default","ReactDOM","render","ThemeProvider","CssBaseline","document","querySelector"],"mappings":"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","file":"static/js/main.eda3611d.chunk.js","sourcesContent":["import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Link from '@material-ui/core/Link';\nimport * as d3 from 'd3';\nimport d3Tip from \"d3-tip\";\nimport { useEffect, useState,useRef } from 'react';\nimport { Grid } from '@material-ui/core';\nimport {legendColor} from 'd3-svg-legend';\nimport * as topojson from 'topojson'\n\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright Â© '}\n      <Link  target=\"_blank\" href=\"https://saharsh-r.github.io/\">\n        Saharsh Rathi\n      </Link>{' at '}\n      {new Date().toUTCString()}\n      {'.'}\n    </Typography>\n  );\n}\n\n\nfunction BarChart({ id, us, education, width = 950, height = 680 }) {\n  const padding = 60;\n  const educationRange = d3.extent(education, d => d.bachelorsOrHigher)\n  var path = d3.geoPath();\n  useEffect(() => {\n    const z = d3.interpolateBuGn\n    // const z = d3.interpolateBuGn\n    var myColor = d3.scaleSequential(z).domain(educationRange)\n      \n\n    const svg = d3\n      .select('#' + id)\n      .append('svg')\n      .attr('width', width)\n      .attr('height', height + 35 )\n\n    // legend stuff\n    svg.append(\"g\")\n      .attr('id' , 'legend')\n      .attr(\"class\", \"legendSequential\")\n      .attr(\"transform\", `translate(${padding},${height - padding + 40})`);\n\n    var legendSequential = legendColor()\n        .shapeWidth(30)\n        .cells(10)\n        .orient(\"horizontal\")\n        .scale(myColor) \n\n    svg.select(\".legendSequential\")\n      .call(legendSequential);\n    // legend stuff end\n\n    // tooltip\n    var tip = d3Tip()\n      .attr('class', 'd3-tip')\n      .attr('id', 'tooltip')\n      .offset([-10, 0])\n      .html(function(d) {\n        return d;\n      });\n\n    function getColor(d){\n      var result = education.filter(function (obj) {\n        return obj.fips === d.id;\n      });\n      if (result[0]) {\n        return myColor(result[0].bachelorsOrHigher);\n      }\n      // could not find a matching fips id in the data\n      return myColor(0);\n    }\n\n    svg\n      .append('g')\n      .attr('class', 'counties')\n      .selectAll(\"whydoesthisnotworkwhenrect\")\n      .data(topojson.feature(us, us.objects.counties).features)\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", \"county\")\n      .attr('data-fips', d => d.id)\n      .attr('data-education', d => education.filter(x => x.fips == d.id)[0].bachelorsOrHigher)\n      .style('fill', d =>  getColor(d))\n      .attr('d', path)\n      .on('mouseover', function(e, d) {\n        // has to be in this way. (e, d) => {} will not work.\n          var match = education.filter(x => x.fips == d.id)[0]\n          tip.attr('data-education', match.bachelorsOrHigher);\n          var str = \n          `<span style='color:#FE621D'>Area: </span>${match.area_name}</br>` + \n          `<span style='color:#FE621D'>State: </span>${match.state} ` +\n          `<span style='color:#FE621D'>Education: </span>${match.bachelorsOrHigher}%` \n          ;\n          tip.show(str, this); \n         \n          d3.select(e.currentTarget).style(\"fill\", \"#FE621D\");\n        })\n      .on('mouseout', function(e, d) {\n          d3.select(e.currentTarget).style(\"fill\", getColor(d));\n         tip.hide(this); \n        });\n\n    svg.call(tip);\n  }, []);\n  \n\n  return <div id={id} style={{position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n  </div>;\n}\n\nexport default function App() {\n  \n  const [dataset, setDataset] = useState([])\n  const [education, setEducation] = useState([])\n\n  useEffect(() => {\n    if (dataset.length == 0){\n      fetch(\"https://cdn.freecodecamp.org/testable-projects-fcc/data/choropleth_map/counties.json\")\n        .then(response => response.json())\n        .then(data => {\n          setDataset(data);\n          })\n\n      fetch(\"https://cdn.freecodecamp.org/testable-projects-fcc/data/choropleth_map/for_user_education.json\")\n      .then(response => response.json())\n      .then(data => {\n        setEducation(data);\n        })\n        \n      \n    } \n  }, [dataset])\n  \n  return (\n    <Grid container alignItems = 'center' justify = 'center'  style = {{backgroundImage: 'radial-gradient( grey, #414141, #000000)'}}>\n      <Grid item >\n        <Box  boxShadow={24} p={4} style={{backgroundColor: 'white'}} borderRadius={40}>\n          <Typography variant=\"h3\" component=\"h1\" align = 'center' id='title' gutterBottom>\n            United States Educational Attainment\n          </Typography>\n          <Typography variant=\"body1\" component=\"h2\" id='description' align = 'center' gutterBottom>\n            Percentage of adults age 25 and older with a bachelor's degree or higher (2010-2014)\n          </Typography>\n          {dataset.length != 0 && \n            <BarChart id=\"barchart\" us={dataset} education={education} />\n          }\n          <Copyright />\n        </Box>\n      </Grid>\n    </Grid>\n    \n  );\n}\n","import { red } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#556cd6',\n    },\n    secondary: {\n      main: '#19857b',\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: '#fff',\n    },\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport App from './App';\nimport theme from './theme';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.querySelector('#root'),\n);\n"],"sourceRoot":""}